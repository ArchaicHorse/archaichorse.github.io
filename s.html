<!DOCTYPE html>
<html>

<head>
    
</head>

<body>
    <div class="vid1div" >
        <video class="vid1" width="144" height="82" controls>
            <source src="tbss.mp4" type="video/mp4">
        </video>
        <br /><br />
    </div>

    <div class="vid2div">
        <video class="vid2" width="144" height="82" controls>
            <source src="sfb.mp4" type="video/mp4">
        </video>
        <br /><br />
    </div>

    <div class="vid3div">
        <video class="vid3" width="144" height="82" controls>
            <source src="t.mp4" type="video/mp4">
        </video>
        <br /><br />
    </div>

    <div class="renderorder"></div>


<script>
    var vid1div = document.querySelector(".vid1");
    var vid2div = document.querySelector(".vid2");
    var vid3div = document.querySelector(".vid3");

    var vid1 = document.querySelector(".vid1");
    var vid2 = document.querySelector(".vid2");
    var vid3 = document.querySelector(".vid3");

    var ro = document.querySelector(".renderorder");
    

    var o11 = document.createElement("p");
    o11.innerHTML = "draw1canvas1";

    var o12 = document.createElement("p");
    o12.innerHTML = "draw1canvas2";

    var o21 = document.createElement("p");
    o21.innerHTML = "draw2canvas1";

    var o22 = document.createElement("p");
    o22.innerHTML = "draw2canvas2";

    var o31 = document.createElement("p");
    o31.innerHTML = "draw3canvas1";

    var o32 = document.createElement("p");
    o32.innerHTML = "draw3canvas2";

    vid1.addEventListener('canplay', function() {
            setTimeout(draw1Canvas, 50);
    });

    function draw1Canvas() {
        var canvas = document.createElement('canvas');
        canvas.height = vid1.videoHeight;
        canvas.width = vid1.videoWidth;
        var ctx = canvas.getContext('2d');

        ro.appendChild(o11);
        ctx.drawImage(vid1, 0, 0, canvas.width, canvas.height);
        var data = ctx.getImageData(0, 0, canvas.width, canvas.height);
        ro.appendChild(o12);

        var img_url = canvas.toDataURL("image/png");
        var img = document.createElement('img');
        img.src = img_url;
        var dt = new Date();
        img.alt = dt.getTime();
        document.querySelector(".vid1div").appendChild(img);
    }

        
    vid2.addEventListener('canplay', function() {
            setTimeout(draw2Canvas, 50);
    });

    function draw2Canvas() {
        

        var canvas = document.createElement('canvas');
        canvas.height = vid2.videoHeight;
        canvas.width = vid2.videoWidth;
        var ctx = canvas.getContext('2d');
        ro.appendChild(o21);
        ctx.drawImage(vid2, 0, 0, canvas.width, canvas.height);
        var data = ctx.getImageData(0, 0, canvas.width, canvas.height);
        ro.appendChild(o22);

        var img_url = canvas.toDataURL("image/png");
        var img = document.createElement('img');
        img.src = img_url;
        var dt = new Date();
        img.alt = dt.getTime();
        document.querySelector(".vid2div").appendChild(img);
    }

        
    vid3.addEventListener('canplay', function() {
            setTimeout(draw3Canvas, 50);
    });

    function draw3Canvas() {
        

        var canvas = document.createElement('canvas');
        canvas.height = vid3.videoHeight;
        canvas.width = vid3.videoWidth;
        var ctx = canvas.getContext('2d');
        ro.appendChild(o31);
        ctx.drawImage(vid3, 0, 0, canvas.width, canvas.height);
        var data = ctx.getImageData(0, 0, canvas.width, canvas.height);
        ro.appendChild(o32);

        var img_url = canvas.toDataURL("image/png");
        var img = document.createElement('img');
        img.src = img_url;
        var dt = new Date();
        img.alt = dt.getTime();
        document.querySelector(".vid3div").appendChild(img);
    }

</script>
</body>

</html>
